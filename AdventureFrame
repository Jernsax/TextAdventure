package textadventure;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Enumeration;
import java.util.Vector;
import javax.swing.*;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Jernsax
 */
public class AdventureFrame extends JFrame implements ActionListener {

    Player pl = new Player();

    JTextArea maintext = new JTextArea(25, 1);
    JTable inventory;
    JScrollPane inventoryModel = new JScrollPane(inventory);
    JTextField input;

    JButton ok;
    JButton west;
    JButton east;
    JButton north;
    JButton south;
    //JButton showMap;
    JLabel blank;

    JMenuBar toolBar = new JMenuBar();

    JMenu file = new JMenu("File");

    JMenuItem newGame = new JMenuItem("Start new game");
    JMenuItem loadGame = new JMenuItem("Load game");
    JMenuItem saveGame = new JMenuItem("Save game");

    {
        file.add(newGame);
        file.add(loadGame);
        file.add(saveGame);
        toolBar.add(file);
    }

    public AdventureFrame() {
        setTitle("Text adventure");
        setSize(1000, 975);
        setResizable(false);
        setDefaultCloseOperation(EXIT_ON_CLOSE);

        this.setJMenuBar(toolBar);

        playerName();
        updateInventory();

        ok = new JButton("OK");
        west = new JButton("West");
        east = new JButton("East");
        north = new JButton("North");
        south = new JButton("South");
        //showMap = new JButton("Map");

        blank = new JLabel();

        ok.addActionListener(this);
        west.addActionListener(this);
        east.addActionListener(this);
        north.addActionListener(this);
        south.addActionListener(this);
        //showMap.addActionListener(this);

        input = new JTextField();

        maintext.setEditable(false);

        JPanel p = new JPanel();
        p.setLayout(null);

        JPanel f = new JPanel();
        JPanel m = new JPanel();

//SetBounds
        f.setBounds(10, 420, 300, 106);
        m.setBounds(10, 560, 500, 350);
        ok.setBounds(855, 450, 60, 30);
        input.setBounds(655, 450, 200, 30);
        maintext.setBounds(10, 10, 970, 400);

        //Compass
        //showMap.setBounds(750, 750, 70, 70);
        north.setBounds(750, 680, 70, 70);
        south.setBounds(750, 820, 70, 70);
        west.setBounds(680, 750, 70, 70);
        east.setBounds(820, 750, 70, 70);

        f.add(new JScrollPane(inventory));

        p.add(f);
        p.add(m);

        p.add(maintext);
        p.add(input);
        p.add(ok);

        //Compass
        //p.add(showMap);
        p.add(west);
        p.add(east);
        p.add(north);
        p.add(south);

        /*maintext.setText("Det er en mørk og stormfuld nat.\n \n"
         + pl.getHeroName() + " åbnede døren til slottet og trådte ind i indgangshallen.\n"
         + "Døren smækkede bag ham.");
         */
        m.setBackground(Color.DARK_GRAY);
        p.setBackground(Color.GRAY);
        this.add(p);

        setVisible(true);

    }

    public void updateInventory() {
        DefaultTableModel inventoryModel = new DefaultTableModel();
        inventory = new JTable(inventoryModel);

        inventoryModel.setColumnIdentifiers(new String[]{"Items"});
        inventoryModel.setRowCount(5);
    }

    @Override
    public void actionPerformed(ActionEvent ae) {
        
        ChangeLocation cl = new ChangeLocation();
        Location l = new Location();
        
        String action = input.getText();

        if (ae.getSource() == ok) {
            if (action.length() == 0) {                
            }
            
            action = action.toUpperCase();
            
            
        }

    }

    public void playerName() {

        String name = JOptionPane.showInputDialog(maintext, "Please enter player Name", "Player Name", WIDTH);

        pl.setHeroName(name);

    }

}
